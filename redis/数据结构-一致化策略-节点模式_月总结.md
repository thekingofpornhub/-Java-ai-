### redis(主存中的缓存)

一致化策略
高复用下的延时双删（）
先删除缓存再同步（同步期间的查询量会直接访问到mysql数据库）


### 数据结构（压缩列表）
好处（一整块连续的内存地址，减少内存）



### boolen过滤器（原理省略）
哈希碰撞
如何减少过滤器的错误率
1，增加哈希槽（位数组）
2，改善哈希函数，使用更多的哈希函数

### 主从节点/哨兵模式
主节点的选举为动态选举

### 哨兵模式
Redis的哨兵模式（Sentinel Mode）是一种高可用性解决方案，旨在监控Redis实例并在主节点发生故障时自动进行故障转移。以下是哨兵模式的关键点：

### 哨兵模式的主要功能
1. **监控**：哨兵会持续监控主节点和从节点的运行状态，确保它们处于预期的工作状态.
2. **自动故障转移**：当主节点发生故障时，哨兵会自动从从节点中选举一个新的主节点，并将其他从节点指向新的主节点进行数据复制.
3. **通知**：哨兵会通知客户端新的主节点信息，确保客户端能够继续正常工作.

### 哨兵模式的工作原理
1. **主观下线和客观下线**：哨兵通过PING命令检测节点状态，如果一个节点在指定时间内没有响应，哨兵会将其标记为“主观下线”。如果多个哨兵实例都认为主节点下线，则会将其标记为“客观下线”并启动故障转移流程.
2. **选举新主节点**：哨兵通过投票机制从从节点中选举一个新的主节点，并通知其他从节点进行数据同步.

### 哨兵模式的优点
- **高可用性**：自动故障转移确保系统在主节点故障时仍能继续运行.
- **监控和通知**：哨兵持续监控节点状态并及时通知客户端，确保系统稳定.
主从节点（主节点处理写和部分读，从节点处理读）
同步手段
全量复制：当从节点第一次连接到主节点时，会进行全量数据复制，即将主节点的所有数据传输到从节点.
增量复制：在全量复制完成后，主节点会将后续的写操作记录发送给从节点，从节点根据这些记录进行数据更新.
数据延迟：由于数据同步存在延迟，从节点的数据可能不是最新的.
故障切换复杂：在主节点故障时，需要手动或借助哨兵模式进行故障切换，过程相对复杂.
